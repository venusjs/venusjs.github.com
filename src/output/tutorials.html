<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js ie ie6 lte9 lte8 lte7" lang=""><![endif]-->
<!--[if IE 7]><html class="no-js ie ie7 lte9 lte8 lte7" lang=""><![endif]-->
<!--[if IE 8]><html class="no-js ie ie8 lte9 lte8" lang=""><![endif]-->
<!--[if IE 9]><html class="no-js ie ie9 lte9" lang=""><![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <link href="http://fonts.googleapis.com/css?family=Cabin:400,500,600,700" rel="stylesheet" type="text/css">
  <!-- <link rel="stylesheet" type="text/css" media="screen" href="/css/all-1364395327000.css"> -->
  <link href="/css/main.css" rel="stylesheet" type="text/css">
  <link href="/css/venus.css" rel="stylesheet" type="text/css">
</head>
<body>
  <header id="global-header">
    <div>
      <a class="logo" href="/">
        <img src="/images/logos/venus.png" alt="Venus.js" />
      </a>
      <nav>
        <ul>
          <li><a href="&#x2F;tutorials">TUTORIALS</a></li>
          <li><a href="&#x2F;documentation">DOCUMENTATION</a></li>
          <li><a href="https:&#x2F;&#x2F;groups.google.com&#x2F;forum&#x2F;#!forum&#x2F;venusjs">DISCUSSION</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <div id="main" role="main">
    <article>
      <h1>Getting started with Venus.js</h1>
      <hr>
      <p>We will now provide a walkthrough on how to create and run a unit test using Venus.</p>
<h2>Annotations</h2>
<hr>
<p>Venus allows you to use comment-based annotations to define configurations for your unit test:</p>
<ul>
<li><h3>@venus-library</h3><p>Indicates the test library you wish to use. The test libraries that are currently supported are <code>mocha</code>, <code>jasmine</code> and <code>qunit</code> (Default library is Mocha)</p></li>
<li><h3>@venus-include</h3><p>JavaScript file to include with your unit test. Use a seperate @venus-include annotation for every file you wish to include. The path is relative to the location of your test file.</p></li>
<li><h3>@venus-fixture</h3><p>The location of the file that will include HTML on the test harness page. This is useful for including some DOM elements that your JavaScript control depends on, for example. The path is relative to the location of your test file.</p></li>
<li><h3>@venus-template</h3><p>The location of the file that will serve as your test harness page for your unit test (Default file is <code>.venus/templates/default.tl</code>)</p></li>
</ul>
<h2>Creating a Unit Test</h2>
<hr>
<p>Let&#39;s say we have the following directory structure:</p>
<pre><code class="lang-bash">|-foobar
  |-src
    |-foo.js
  |-specs
    |-foo.spec.js
    |-foo.fixture.html</code></pre>
<ul>
<li><code>foo.js</code>      - Defines the talk() function</li>
<li><code>foo.spec.js</code> - Unit test that validates the talk() function defined in <code>foo.js</code> behaves as expected</li>
<li><code>foo.fixture.html</code> - HTML to be included when running the unit test defined in <code>foo.spec.js</code></li>
</ul>
<p>Below are the contents of <code>foo.spec.js</code></p>
<pre><code class="lang-js">/**
 * @venus-library mocha
 * @venus-include ../src/foo.js
 * @venus-fixture foo.fixture.html
 */

test(&#39;Foo&#39;, function() {
  var foo    = new Foo(),
      result = foo.talk(&#39;Hello %s, how are you doing this fine %s?&#39;, &#39;John&#39;, &#39;Monday&#39;);

  equal(result, &#39;Hello John, how are you doing this fine Monday?&#39;, &#39;Foo.talk() formats the string correctly&#39;);
});</code></pre>
<p>As you can see above, <code>foo.spec.js</code> does the following:</p>
<ul>
<li>Defines Mocha as it&#39;s test library</li>
<li>Includes <code>foo.js</code> to instantiate a <code>Foo</code> object and invoke the talk() function</li>
<li>Uses <code>foo.fixture.html</code> to specify HTML needed in order to run the unit test</li>
</ul>
<p><br/></p>
<h2>Run a Unit Test</h2>
<hr>
<p>Unit tests can be run from the command line using PhantomJS or locally in a browser</p>
<p>Run unit test with PhantomJS</p>
<pre><code class="lang-bash">venus run --test path/to/unit/test/foo.spec.js --phantom</code></pre>
<p>Run unit test locally</p>
<pre><code class="lang-bash">venus run --test path/to/unit/test/foo.spec.js</code></pre>

  </article>
</div>
<footer id="global-footer">
  <div>
    <p class="copyright">
      LinkedIn Corporation &copy; 2013 
    </p>
      <ul>
        <li><a href="http:&#x2F;&#x2F;www.github.com&#x2F;linkedin&#x2F;venus.js">GitHub</a></li>
        <li><a href="https:&#x2F;&#x2F;github.com&#x2F;linkedin&#x2F;venus.js&#x2F;issues?state=open">Issue Tracker</a></li>
        <li><a href="https:&#x2F;&#x2F;github.com&#x2F;linkedin&#x2F;venus.js&#x2F;blob&#x2F;master&#x2F;CHANGELOG.md">CHANGELOG</a></li>
        <li><a href="https:&#x2F;&#x2F;github.com&#x2F;linkedin&#x2F;venus.js&#x2F;blob&#x2F;master&#x2F;CONTRIBUTING.md">Contributing</a></li>
      </ul>
    <p class="social-actions">
      <iframe width="112px" scrolling="0" height="20px" frameborder="0" allowtransparency="true" src="http://ghbtns.com/github-btn.html?user=linkedin&amp;repo=venus.js&amp;type=watch&amp;count=true"></iframe>
      <iframe width="98px" scrolling="0" height="20px" frameborder="0" allowtransparency="true" src="http://ghbtns.com/github-btn.html?user=linkedin&amp;repo=venus&amp;type=fork&amp;count=true"></iframe>
    </p>
  </div>
</footer>
  <script type="text/javascript" src="/js/jquery.js"></script>
  <script type="text/javascript" src="/js/venus.js"></script>
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36360221-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</body>
</html>
